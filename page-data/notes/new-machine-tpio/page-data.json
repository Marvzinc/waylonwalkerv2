{"componentChunkName":"component---src-templates-notes-js","path":"/notes/new-machine-tpio/","result":{"data":{"markdownRemark":{"id":"19850e88-8bd5-56d1-b7f5-492e03884279","html":"<p>Today I setup a new machine on Digital Ocean to use with TestProject.io,  Here are my installation notes.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">apt</span> update <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">apt</span> upgrade -y\n\n<span class=\"token function\">apt</span> <span class=\"token function\">install</span> <span class=\"token function\">zsh</span>\nchsh <span class=\"token function\">zsh</span>\n<span class=\"token function\">sh</span> -c <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">curl</span> -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span class=\"token variable\">)</span></span>\"</span>\n<span class=\"token function\">curl</span> -fsSL https://starship.rs/install.sh <span class=\"token operator\">|</span> <span class=\"token function\">bash</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'eval \"<span class=\"token variable\"><span class=\"token variable\">$(</span>starship init <span class=\"token function\">zsh</span><span class=\"token variable\">)</span></span>\"'</span> <span class=\"token operator\">>></span> ~/.zshrc\n\n<span class=\"token comment\"># python</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> python3-pip -y\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'alias python=python3'</span> <span class=\"token operator\">>></span> ~/.zshrc\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'alias pip=pip3'</span> <span class=\"token operator\">>></span> ~/.zshrc\n\n<span class=\"token comment\"># pipx</span>\n<span class=\"token function\">apt</span> <span class=\"token function\">install</span> python3-venv\npip <span class=\"token function\">install</span> pipx\npipx <span class=\"token function\">install</span> black\npipx <span class=\"token function\">install</span> shell-functools\npip <span class=\"token function\">install</span> ipython\n\n\n<span class=\"token comment\"># docker</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> apt-transport-https ca-certificates <span class=\"token function\">curl</span> gnupg-agent software-properties-common\n<span class=\"token function\">curl</span> -fsSL https://download.docker.com/linux/ubuntu/gpg <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> apt-key <span class=\"token function\">add</span> -\n<span class=\"token function\">sudo</span> add-apt-repository <span class=\"token string\">\"deb [arch=amd64] https://download.docker.com/linux/ubuntu <span class=\"token variable\"><span class=\"token variable\">$(</span>lsb_release -cs<span class=\"token variable\">)</span></span> stable\"</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> update\n<span class=\"token function\">sudo</span> <span class=\"token function\">apt</span> <span class=\"token function\">install</span> docker-ce\n\n<span class=\"token comment\"># docker-compose</span>\n<span class=\"token function\">sudo</span> <span class=\"token function\">curl</span> -L <span class=\"token string\">\"https://github.com/docker/compose/releases/download/1.25.5/docker-compose-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> -s<span class=\"token variable\">)</span></span>-<span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">uname</span> -m<span class=\"token variable\">)</span></span>\"</span> -o /usr/local/bin/docker-compose\n<span class=\"token function\">sudo</span> <span class=\"token function\">chmod</span> +x /usr/local/bin/docker-compose\n\n<span class=\"token comment\"># configure git</span>\n<span class=\"token function\">git</span> config --global user.name <span class=\"token string\">\"Waylon Walker\"</span>\n<span class=\"token function\">git</span> config --global user.email waylon@waylonwalker.com\n\n<span class=\"token comment\"># fzf</span>\n<span class=\"token function\">git</span> clone --depth <span class=\"token number\">1</span> https://github.com/junegunn/fzf.git ~/.fzf\n~/.fzf/install\n\n<span class=\"token comment\"># forgit</span>\n<span class=\"token function\">git</span> clone https://github.com/wfxr/forgit ~/.forgit\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\". ~/.forgit/forgit.plugin.zsh\"</span> <span class=\"token operator\">>></span> ~/.zshrc\n\n<span class=\"token comment\"># ag</span>\n<span class=\"token function\">apt</span> <span class=\"token function\">install</span> silversearcher-ag\n\n<span class=\"token comment\"># bat</span>\n<span class=\"token function\">apt</span> <span class=\"token function\">install</span> bat\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"alias cat=batcat\"</span> <span class=\"token operator\">>></span> ~/.zshrc\n\n<span class=\"token comment\"># testproject.io tokens</span>\n<span class=\"token builtin class-name\">echo</span> <span class=\"token string\">'export TP_AGENT_ALIAS=\"Digital Ocean Agent\"'</span> <span class=\"token operator\">>></span><span class=\"token string\">\" ~/.zshrc\necho \"</span><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">TP_AGENT_API_KEY</span><span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>your-key<span class=\"token operator\">></span> <span class=\"token operator\">>></span><span class=\"token string\">\" ~/.zshrc\necho \"</span><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">TP_DEV_TOKEN</span><span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>your-token<span class=\"token operator\">></span> <span class=\"token operator\">>></span>\" ~/.zshrc</code></pre></div>\n<p>envsubst &#x3C; .github/ci/docker-compose.yml > docker-compose.yml</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># .github/ci/docker-compose.yml</span>\n<span class=\"token key atrule\">version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"3.1\"</span>\n<span class=\"token key atrule\">services</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">testproject-agent</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> testproject/agent<span class=\"token punctuation\">:</span>latest\n    <span class=\"token key atrule\">container_name</span><span class=\"token punctuation\">:</span> testproject<span class=\"token punctuation\">-</span>agent\n    <span class=\"token key atrule\">depends_on</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> chrome\n      <span class=\"token punctuation\">-</span> firefox\n    <span class=\"token key atrule\">environment</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">TP_API_KEY</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"${TP_API_KEY}\"</span>\n      <span class=\"token key atrule\">TP_AGENT_ALIAS</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"GitHub Action Agent\"</span>\n      <span class=\"token key atrule\">TP_AGENT_TEMP</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"true\"</span>\n      <span class=\"token key atrule\">TP_SDK_PORT</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"8686\"</span>\n      <span class=\"token key atrule\">CHROME</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"chrome:4444\"</span>\n      <span class=\"token key atrule\">CHROME_EXT</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"localhost:5555\"</span>\n      <span class=\"token key atrule\">FIREFOX</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"firefox:4444\"</span>\n      <span class=\"token key atrule\">FIREFOX_EXT</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"localhost:6666\"</span>\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token string\">\"8585:8585\"</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token string\">\"8686:8686\"</span>\n  <span class=\"token key atrule\">chrome</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> selenium/standalone<span class=\"token punctuation\">-</span>chrome\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> /dev/shm<span class=\"token punctuation\">:</span>/dev/shm\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token string\">\"5555:4444\"</span>\n  <span class=\"token key atrule\">firefox</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">image</span><span class=\"token punctuation\">:</span> selenium/standalone<span class=\"token punctuation\">-</span>firefox\n    <span class=\"token key atrule\">volumes</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> /dev/shm<span class=\"token punctuation\">:</span>/dev/shm\n    <span class=\"token key atrule\">ports</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token string\">\"6666:4444\"</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">docker-compose -f docker-compose.yml</code></pre></div>","frontmatter":{"date":"2020-07-25T05:00:00.000Z","title":"New Machine for developing Tests with TestProject.io","description":"Today I setup a new machine on Digital Ocean to use with TestProject.io, Here are my installation notes.","path":"new-machine-tpio","twitter_cover":{"absolutePath":"/home/runner/work/waylonwalkerv2/waylonwalkerv2/static/new-machine-tpio.png","childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB7ElEQVQoz12Sy2sTURjFs3EraEjzNO9Hk8zMnZlMZjqZPCaJSTtNtNiKpUhF6pNqrUSUCkKDVRfiQlwI4h/78yapCC4OF+69/PjOOV8oUTBIFHTiUtGcRq7ucPR8xvHpGfOLczy/S0kV1JoWOc3BtH2qagdLdHCNDjvNLiOrTVU4aLpNKH4JWyiWFySKBhnFIV4xmExcpnea7O+4fH804evegPODMRe9TX70A34NA775mxxs9ChrNuJ/YDQrJ9RcHoyP6CsBV2IlclmPXTXgc9Pngz1govkcOmMmlo8uWqhSmnBRdUfqEhgrCAmUyutECipDY8Lcn3HSfsLPrTlfhjPedJ/yqvOCj6MzXvsnvBuccujdp6hYEtj6B4xKSDzTkNOtwIsc4zmBst7GrY9QSi6ptIlRcGiUW9zUA/xGwNia0jFHMk8HRWxQF/YqQ00Y/H77ktvWHtfStZX1vMZaTpVluGTbt7DHAcnhY8L2XdbEFhWlTU31ULQWpt7F0D0ssy3BEliuabx/uE2/0ed6WpG2xRKYlO0blQ7j6TbHzwYU730i6e6Tsna5UXVR6h620cczh7hmH1v0SBdNQpGs4GqiRjirLFuOSrurczGlRjRTJ5yqE0kUiKbXicl/f99Si42omHIzZPZZdXn3B1CNBc/5qhuIAAAAAElFTkSuQmCC","width":800,"height":418,"src":"/static/c4f9ecde76a1be5d8437d4ee221d4ca5/267c5/new-machine-tpio.png","srcSet":"/static/c4f9ecde76a1be5d8437d4ee221d4ca5/267c5/new-machine-tpio.png 1x"}}},"cover":{"absolutePath":"/home/runner/work/waylonwalkerv2/waylonwalkerv2/static/new-machine-tpio.png","childImageSharp":{"fixed":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB7ElEQVQoz12Sy2sTURjFs3EraEjzNO9Hk8zMnZlMZjqZPCaJSTtNtNiKpUhF6pNqrUSUCkKDVRfiQlwI4h/78yapCC4OF+69/PjOOV8oUTBIFHTiUtGcRq7ucPR8xvHpGfOLczy/S0kV1JoWOc3BtH2qagdLdHCNDjvNLiOrTVU4aLpNKH4JWyiWFySKBhnFIV4xmExcpnea7O+4fH804evegPODMRe9TX70A34NA775mxxs9ChrNuJ/YDQrJ9RcHoyP6CsBV2IlclmPXTXgc9Pngz1govkcOmMmlo8uWqhSmnBRdUfqEhgrCAmUyutECipDY8Lcn3HSfsLPrTlfhjPedJ/yqvOCj6MzXvsnvBuccujdp6hYEtj6B4xKSDzTkNOtwIsc4zmBst7GrY9QSi6ptIlRcGiUW9zUA/xGwNia0jFHMk8HRWxQF/YqQ00Y/H77ktvWHtfStZX1vMZaTpVluGTbt7DHAcnhY8L2XdbEFhWlTU31ULQWpt7F0D0ssy3BEliuabx/uE2/0ed6WpG2xRKYlO0blQ7j6TbHzwYU730i6e6Tsna5UXVR6h620cczh7hmH1v0SBdNQpGs4GqiRjirLFuOSrurczGlRjRTJ5yqE0kUiKbXicl/f99Si42omHIzZPZZdXn3B1CNBc/5qhuIAAAAAElFTkSuQmCC","width":1000,"height":420,"src":"/static/c4f9ecde76a1be5d8437d4ee221d4ca5/a8734/new-machine-tpio.png","srcSet":"/static/c4f9ecde76a1be5d8437d4ee221d4ca5/a8734/new-machine-tpio.png 1x"},"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAB7ElEQVQoz12Sy2sTURjFs3EraEjzNO9Hk8zMnZlMZjqZPCaJSTtNtNiKpUhF6pNqrUSUCkKDVRfiQlwI4h/78yapCC4OF+69/PjOOV8oUTBIFHTiUtGcRq7ucPR8xvHpGfOLczy/S0kV1JoWOc3BtH2qagdLdHCNDjvNLiOrTVU4aLpNKH4JWyiWFySKBhnFIV4xmExcpnea7O+4fH804evegPODMRe9TX70A34NA775mxxs9ChrNuJ/YDQrJ9RcHoyP6CsBV2IlclmPXTXgc9Pngz1govkcOmMmlo8uWqhSmnBRdUfqEhgrCAmUyutECipDY8Lcn3HSfsLPrTlfhjPedJ/yqvOCj6MzXvsnvBuccujdp6hYEtj6B4xKSDzTkNOtwIsc4zmBst7GrY9QSi6ptIlRcGiUW9zUA/xGwNia0jFHMk8HRWxQF/YqQ00Y/H77ktvWHtfStZX1vMZaTpVluGTbt7DHAcnhY8L2XdbEFhWlTU31ULQWpt7F0D0ssy3BEliuabx/uE2/0ed6WpG2xRKYlO0blQ7j6TbHzwYU730i6e6Tsna5UXVR6h620cczh7hmH1v0SBdNQpGs4GqiRjirLFuOSrurczGlRjRTJ5yqE0kUiKbXicl/f99Si42omHIzZPZZdXn3B1CNBc/5qhuIAAAAAElFTkSuQmCC","aspectRatio":2.380952380952381,"src":"/static/c4f9ecde76a1be5d8437d4ee221d4ca5/a8734/new-machine-tpio.png","srcSet":"/static/c4f9ecde76a1be5d8437d4ee221d4ca5/2d6f8/new-machine-tpio.png 250w,\n/static/c4f9ecde76a1be5d8437d4ee221d4ca5/03ac3/new-machine-tpio.png 500w,\n/static/c4f9ecde76a1be5d8437d4ee221d4ca5/a8734/new-machine-tpio.png 1000w","sizes":"(max-width: 1000px) 100vw, 1000px"}}}}}},"pageContext":{"id":"19850e88-8bd5-56d1-b7f5-492e03884279"}}}